@use "@angular/material" as mat;

@include mat.core();

$mks-light-theme: mat.define-theme((
  color: (
    theme-type: light,
    primary: mat.$azure-palette,
    tertiary: mat.$blue-palette,
  ),
  typography: (
    brand-family: "Roboto, Segoe UI, sans-serif",
    plain-family: "Roboto, Segoe UI, sans-serif",
  ),
  density: (
    scale: -2,
  ),
));

$mks-dark-theme: mat.define-theme((
  color: (
    theme-type: dark,
    primary: mat.$azure-palette,
    tertiary: mat.$blue-palette,
  ),
  typography: (
    brand-family: "Roboto, Segoe UI, sans-serif",
    plain-family: "Roboto, Segoe UI, sans-serif",
  ),
  density: (
    scale: -2,
  ),
));

html {
  color-scheme: light;
  font-family: "Roboto", "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  @include mat.all-component-themes($mks-light-theme);
  @include mat.typography-hierarchy($mks-light-theme);
}

html.dark-theme {
  color-scheme: dark;
  @include mat.all-component-colors($mks-dark-theme);
  @include mat.typography-hierarchy($mks-dark-theme);
}

:root {
  --mks-bg: #f6f7f9;
  --mks-surface: #ffffff;
  --mks-surface-soft: #f8fafc;
  --mks-border: #d9e3ef;
  --mks-text: #0f172a;
  --mks-muted: #64748b;
  --mks-text-color: #0f172a;
  --mks-text-muted: #64748b;
  --mks-border-color: #d9e3ef;
  --mks-surface-color: #ffffff;
  --mks-input-bg: #ffffff;
  --mks-primary: #0b57d0;
  --mks-on-primary: #ffffff;
  --mks-tonal: #d3e3fd;
  --mks-on-tonal: #0842a0;
}

html.dark-theme {
  --mks-bg: #060b13;
  --mks-surface: #0f172a;
  --mks-surface-soft: #111827;
  --mks-border: #334155;
  --mks-text: #e5e7eb;
  --mks-muted: #94a3b8;
  --mks-text-color: #e5e7eb;
  --mks-text-muted: #94a3b8;
  --mks-border-color: #334155;
  --mks-surface-color: #0f172a;
  --mks-input-bg: #0b1220;
  --mks-primary: #a8c7fa;
  --mks-on-primary: #062e6f;
  --mks-tonal: #1f2f48;
  --mks-on-tonal: #d3e3fd;
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  background: var(--mks-bg);
  color: var(--mks-text);
  transition: background-color 180ms ease, color 180ms ease;
}

html.dark-theme body {
  background: var(--mks-bg);
  color: var(--mks-text);
}

html.dark-theme .card,
html.dark-theme .inline-card,
html.dark-theme .kpi,
html.dark-theme .page-header,
html.dark-theme .theme-toggle-panel,
html.dark-theme .session-meta {
  background: var(--mks-surface) !important;
  border-color: var(--mks-border) !important;
  color: var(--mks-text) !important;
}

html.dark-theme .details-row td,
html.dark-theme .details-panel,
html.dark-theme .customer-preview,
html.dark-theme .hero,
html.dark-theme .mini-item,
html.dark-theme .progress-bar,
html.dark-theme .bars,
html.dark-theme .table-wrap {
  background: var(--mks-surface-soft) !important;
}

html.dark-theme p,
html.dark-theme h1,
html.dark-theme h2,
html.dark-theme h3,
html.dark-theme h4,
html.dark-theme h5,
html.dark-theme label,
html.dark-theme th,
html.dark-theme td,
html.dark-theme span {
  color: inherit;
}

html.dark-theme .muted,
html.dark-theme .subtitle,
html.dark-theme .hint {
  color: var(--mks-muted) !important;
}

html.dark-theme input,
html.dark-theme select,
html.dark-theme textarea {
  background: var(--mks-input-bg) !important;
  color: var(--mks-text) !important;
  border-color: var(--mks-border) !important;
}

html.dark-theme .table th,
html.dark-theme .table td,
html.dark-theme .inner-table th,
html.dark-theme .inner-table td {
  border-bottom-color: var(--mks-border) !important;
}

html.dark-theme .hero,
html.dark-theme .page-header,
html.dark-theme .customer-preview {
  background: var(--mks-surface) !important;
  border-color: var(--mks-border) !important;
}

.content button,
.content .ghost {
  border-radius: 999px;
  border: 1px solid transparent;
  min-height: 40px;
  padding: 0.55rem 1rem;
  font-weight: 600;
  font-family: inherit;
  letter-spacing: 0.01em;
  transition: background-color 150ms ease, border-color 150ms ease, color 150ms ease, box-shadow 150ms ease;
}

.content button {
  background: var(--mks-primary);
  color: var(--mks-on-primary);
  border-color: color-mix(in srgb, var(--mks-primary) 78%, #00000000);
  box-shadow: 0 1px 2px rgba(15, 23, 42, 0.12);
}

.content button:hover {
  box-shadow: 0 3px 8px rgba(15, 23, 42, 0.18);
  filter: saturate(1.04);
}

.content button.secondary,
.content .ghost {
  background: var(--mks-tonal);
  color: var(--mks-on-tonal);
  border-color: color-mix(in srgb, var(--mks-tonal) 65%, var(--mks-border));
  box-shadow: none;
}

.content button.secondary:hover,
.content .ghost:hover {
  background: color-mix(in srgb, var(--mks-tonal) 88%, var(--mks-surface));
}

html.dark-theme .content button {
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.35);
}

html.dark-theme .content button.secondary,
html.dark-theme .content .ghost {
  border-color: var(--mks-border);
}

html.dark-theme .pill.warn {
  background: #3f2c11 !important;
  color: #fde68a !important;
}

html.dark-theme .pill.ok {
  background: #123127 !important;
  color: #86efac !important;
}

html.dark-theme .pill.inactive {
  background: #1e293b !important;
  color: #cbd5e1 !important;
}

.mks-toast-success .mdc-snackbar__surface {
  background: #0f766e !important;
  color: #e6fffa !important;
}

.mks-toast-info .mdc-snackbar__surface {
  background: #1d4ed8 !important;
  color: #eff6ff !important;
}

.mks-toast-warning .mdc-snackbar__surface {
  background: #92400e !important;
  color: #fff7ed !important;
}

.mks-toast-error .mdc-snackbar__surface {
  background: #991b1b !important;
  color: #fef2f2 !important;
}
