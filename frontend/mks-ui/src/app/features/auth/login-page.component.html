<section class="login-wrap">
  <div class="login-card">
    <h1>{{ isControlPlanePortal ? "Acesso Control Plane" : "Acesso ao Tenant" }}</h1>
    <p *ngIf="isControlPlanePortal">
      Login administrativo para gestão de tenants no subdomínio
      <strong>sistema</strong>.
    </p>
    <p *ngIf="!isControlPlanePortal">
      Entre com usuário e senha para carregar seu contexto de tenant.
    </p>

    <label *ngIf="!isControlPlanePortal || !detectedTenantCode">
      Tenant Code
      <input
        type="text"
        [ngModel]="tenantCode()"
        (ngModelChange)="tenantCode.set($event)"
      />
    </label>
    <p *ngIf="detectedTenantCode && !isControlPlanePortal" class="hint">
      Tenant detectado pelo subdomínio: <strong>{{ detectedTenantCode }}</strong>
    </p>

    <label>
      Username
      <input
        type="text"
        [ngModel]="username()"
        (ngModelChange)="username.set($event)"
      />
    </label>

    <label>
      Password
      <input
        type="password"
        [ngModel]="password()"
        (ngModelChange)="password.set($event)"
      />
    </label>

    <button type="button" (click)="login()" [disabled]="loading()">
      Entrar
    </button>

    <p *ngIf="loading()">Autenticando...</p>
    <p class="error" *ngIf="error()">{{ error() }}</p>
  </div>
</section>
