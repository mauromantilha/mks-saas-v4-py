<section
  class="login-wrap"
  [class.control-plane]="isControlPlanePortal()"
  [class.tenant-portal]="!isControlPlanePortal()"
>
  <div class="login-card">
    <div class="portal-badge">
      {{ isControlPlanePortal() ? "Portal Sistema" : "Portal Tenant" }}
    </div>

    <h1>Recuperar senha</h1>

    <p *ngIf="isControlPlanePortal()">
      Solicite um link de redefinição de senha para o portal
      <strong>sistema</strong>.
    </p>
    <p *ngIf="!isControlPlanePortal()">
      Solicite um link de redefinição de senha para o tenant atual.
    </p>

    <p *ngIf="hostDetectedTenantCode && !isControlPlanePortal()" class="hint">
      Tenant detectado pelo subdomínio: <strong>{{ hostDetectedTenantCode }}</strong>
    </p>

    <label>
      Email ou Username
      <input
        type="text"
        autocomplete="username"
        [ngModel]="identifier()"
        (ngModelChange)="identifier.set($event)"
      />
    </label>

    <button type="button" (click)="submit()" [disabled]="loading()">
      Enviar link
    </button>

    <p *ngIf="loading()">Processando...</p>
    <p class="success" *ngIf="success()">{{ success() }}</p>
    <p class="error" *ngIf="error()">{{ error() }}</p>

    <p *ngIf="debugResetUrl()" class="debug">
      DEBUG reset URL:
      <a [href]="debugResetUrl()!" target="_blank" rel="noreferrer">
        {{ debugResetUrl() }}
      </a>
    </p>

    <button type="button" class="secondary" (click)="backToLogin()">
      Voltar ao login
    </button>
  </div>
</section>

